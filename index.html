// ============================
// CONTROLEADS – ESTRUTURA PADRÃO LOVABLE
// Stack: React + Vite + TypeScript + Tailwind CSS
// Código reescrito para recriação fiel da estrutura gerada pelo Lovable
// ============================

// ============================
// src/main.tsx
// ============================
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import "./index.css";

ReactDOM.createRoot(document.getElementById("root")!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

// ============================
// src/App.tsx
// ============================
import Dashboard from "./pages/Dashboard";

export default function App() {
  return (
    <div className="min-h-screen bg-zinc-100 text-zinc-900">
      <Dashboard />
    </div>
  );
}

// ============================
// src/pages/Dashboard.tsx
// ============================
import FinanceSection from "../sections/FinanceSection";
import TasksSection from "../sections/TasksSection";

export default function Dashboard() {
  return (
    <main className="p-6 space-y-8 max-w-6xl mx-auto">
      <header className="flex flex-col gap-1">
        <h1 className="text-2xl font-semibold">ControleAds</h1>
        <p className="text-sm text-zinc-500">Painel operacional</p>
      </header>

      <FinanceSection />
      <TasksSection />
    </main>
  );
}

// ============================
// src/sections/FinanceSection.tsx
// ============================
import { useState } from "react";

interface Cliente {
  nome: string;
  telefone: string;
  valor: number;
  diaPagamento: number;
}

interface Despesa {
  nome: string;
  valor: number;
}

export default function FinanceSection() {
  const [clientes, setClientes] = useState<Cliente[]>([]);
  const [despesas, setDespesas] = useState<Despesa[]>([]);

  const receita = clientes.reduce((t, c) => t + c.valor, 0);
  const gasto = despesas.reduce((t, d) => t + d.valor, 0);
  const lucro = receita - gasto;

  return (
    <section className="bg-white rounded-xl shadow p-5 space-y-4">
      <h2 className="text-lg font-medium">Financeiro</h2>

      <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
        <Card label="Receita" value={receita} color="green" />
        <Card label="Despesas" value={gasto} color="red" />
        <Card label="Lucro" value={lucro} color="blue" />
      </div>

      <div className="flex gap-3">
        <button onClick={() => setClientes([...clientes, {
          nome: "Novo Cliente",
          telefone: "",
          valor: 500,
          diaPagamento: 5
        }])} className="btn-primary">Adicionar Cliente</button>

        <button onClick={() => setDespesas([...despesas, {
          nome: "Nova Despesa",
          valor: 100
        }])} className="btn-danger">Adicionar Despesa</button>
      </div>
    </section>
  );
}

function Card({ label, value, color }: { label: string; value: number; color: string }) {
  const colors: any = {
    green: "bg-green-100 text-green-700",
    red: "bg-red-100 text-red-700",
    blue: "bg-blue-100 text-blue-700"
  };

  return (
    <div className={`rounded-lg p-4 ${colors[color]}`}>
      <p className="text-sm">{label}</p>
      <strong className="text-xl">R$ {value}</strong>
    </div>
  );
}

// ============================
// src/sections/TasksSection.tsx
// ============================
import { useState } from "react";

interface Task {
  descricao: string;
  data: string;
  hora: string;
  concluida: boolean;
}

export default function TasksSection() {
  const [tasks, setTasks] = useState<Task[]>([]);

  return (
    <section className="bg-white rounded-xl shadow p-5 space-y-4">
      <h2 className="text-lg font-medium">Tarefas</h2>

      <button onClick={() => setTasks([...tasks, {
        descricao: "Nova tarefa",
        data: "2026-01-17",
        hora: "09:00",
        concluida: false
      }])} className="btn-secondary">Adicionar tarefa</button>

      <ul className="space-y-2">
        {tasks.map((t, i) => (
          <li key={i} className="flex justify-between items-center text-sm">
            <span className={t.concluida ? "line-through text-zinc-400" : ""}>
              {t.data} {t.hora} — {t.descricao}
            </span>
            <input type="checkbox" checked={t.concluida} onChange={() => {
              const copy = [...tasks];
              copy[i].concluida = !copy[i].concluida;
              setTasks(copy);
            }} />
          </li>
        ))}
      </ul>
    </section>
  );
}

// ============================
// src/index.css
// ============================
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .btn-primary {
    @apply bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700;
  }
  .btn-danger {
    @apply bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700;
  }
  .btn-secondary {
    @apply bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700;
  }
}
