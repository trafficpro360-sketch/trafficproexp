<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FinancePro</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Inter',sans-serif;background:#020617;color:#e5e7eb;display:flex;min-height:100vh}
    aside{width:240px;border-right:1px solid #1e293b;padding:24px}
    .logo{font-size:22px;font-weight:700;color:#38bdf8;margin-bottom:32px}
    nav a{display:block;padding:10px 14px;border-radius:10px;color:#94a3b8;text-decoration:none;margin-bottom:8px;cursor:pointer}
    nav a.active,nav a:hover{background:rgba(56,189,248,.15);color:#38bdf8}
    main{flex:1;padding:32px}
    h1{font-size:26px;margin-bottom:24px}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}
    .card{background:#020617;border:1px solid #1e293b;border-radius:18px;padding:20px}
    .card span{color:#94a3b8;font-size:14px}
    .card h2{margin-top:8px;font-size:24px}
    .controls{display:grid;grid-template-columns:1fr auto auto auto;gap:12px;margin-bottom:24px}
    input,button{background:#020617;border:1px solid #1e293b;border-radius:12px;color:#e5e7eb;padding:12px}
    button{background:linear-gradient(135deg,#2563eb,#38bdf8);border:none;font-weight:600;cursor:pointer}
    .toggle{display:flex;border:1px solid #1e293b;border-radius:12px;overflow:hidden}
    .toggle button{background:transparent;border:none;color:#94a3b8;padding:12px;cursor:pointer}
    .toggle button.active{color:#22c55e}
    .lists{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    ul{list-style:none;border:1px solid #1e293b;border-radius:12px;padding:10px;max-height:260px;overflow:auto}
    li{display:flex;justify-content:space-between;background:#0b0f1c;border-radius:8px;padding:6px 10px;margin-bottom:6px;font-size:14px}
    #clientes{display:none}
  </style>
</head>
<body>
  <aside>
    <div class="logo">FinancePro</div>
    <nav>
      <a class="active" onclick="ui.show('dashboard',this)">Dashboard</a>
      <a onclick="ui.show('clientes',this)">Clientes</a>
    </nav>
  </aside>

  <main>
    <section id="dashboard">
      <h1>Dashboard</h1>
      <div class="cards">
        <div class="card"><span>Receita</span><h2 id="rReceita">R$ 0</h2></div>
        <div class="card"><span>Despesas</span><h2 id="rDespesa">R$ 0</h2></div>
        <div class="card"><span>Patrim√¥nio</span><h2 id="rPatrimonio">R$ 0</h2></div>
        <div class="card"><span>Saldo</span><h2 id="rSaldo">R$ 0</h2></div>
      </div>

      <div class="controls">
        <input id="valor" type="number" placeholder="Valor">
        <div class="toggle">
          <button class="active" onclick="finance.setTipo('receita',this)">Receita</button>
          <button onclick="finance.setTipo('despesa',this)">Despesa</button>
          <button onclick="finance.setTipo('patrimonio',this)">Patrim√¥nio</button>
        </div>
        <input id="data" placeholder="dd/mm/aaaa">
        <button onclick="finance.addManual()">Adicionar</button>
      </div>

      <div class="lists">
        <div><h3>Receitas</h3><ul id="lReceita"></ul></div>
        <div><h3>Despesas</h3><ul id="lDespesa"></ul></div>
        <div><h3>Patrim√¥nio</h3><ul id="lPatrimonio"></ul></div>
      </div>
    </section>

    <section id="clientes">
      <h1>Clientes</h1>
      <input id="cNome" placeholder="Nome">
      <input id="cValor" type="number" placeholder="Valor do contrato">
      <input id="cData" placeholder="Data (dd/mm/aaaa)">
      <button onclick="clientes.add()">Adicionar Cliente</button>
      <ul id="listaClientes" style="margin-top:16px"></ul>
    </section>
  </main>

<script>
const ui={show(id,el){document.querySelectorAll('main section').forEach(s=>s.style.display='none');document.getElementById(id).style.display='block';document.querySelectorAll('nav a').forEach(a=>a.classList.remove('active'));el.classList.add('active')}};

const finance={
  tipo:'receita',
  dados:JSON.parse(localStorage.getItem('financeiro'))||[],
  setTipo(t,el){this.tipo=t;document.querySelectorAll('.toggle button').forEach(b=>b.classList.remove('active'));el.classList.add('active')},
  addManual(){this.add(+valor.value,this.tipo,data.value)},
  add(valor,tipo,data,clienteId=null){
    if(!valor||!/\d{2}\/\d{2}\/\d{4}/.test(data))return alert('Dados inv√°lidos');
    this.dados.push({id:Date.now(),valor,tipo,data,clienteId});this.save();
  },
  save(){localStorage.setItem('financeiro',JSON.stringify(this.dados));this.update()},
  update(){
    lReceita.innerHTML=lDespesa.innerHTML=lPatrimonio.innerHTML='';
    let r=0,d=0,p=0;
    this.dados.forEach(i=>{
      const li=document.createElement('li');
      li.innerHTML=`<span>${i.valor.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})} - ${i.data}</span><button onclick=\"finance.remove(${i.id})\">üóëÔ∏è</button>`;
      if(i.tipo==='receita'){r+=i.valor;lReceita.appendChild(li)}
      if(i.tipo==='despesa'){d+=i.valor;lDespesa.appendChild(li)}
      if(i.tipo==='patrimonio'){p+=i.valor;lPatrimonio.appendChild(li)}
    });
    rReceita.textContent=`R$ ${r}`;rDespesa.textContent=`R$ ${d}`;rPatrimonio.textContent=`R$ ${p}`;rSaldo.textContent=`R$ ${r-d+p}`;
  },
  remove(id){this.dados=this.dados.filter(i=>i.id!==id);this.save()}
};

const clientes={
  dados:JSON.parse(localStorage.getItem('clientes'))||[],
  add(){
    if(!cNome.value||!cValor.value||!cData.value)return alert('Preencha tudo');
    const id=Date.now();
    const valorContrato=+cValor.value;
    this.dados.push({id,nome:cNome.value,valor:valorContrato,data:cData.value});
    localStorage.setItem('clientes',JSON.stringify(this.dados));
    // ADICIONADO: cliente gera receita automaticamente
    finance.add(valorContrato,'receita',cData.value,id);
    this.render();
  },
  render(){
    listaClientes.innerHTML='';
    this.dados.forEach(c=>{
      const li=document.createElement('li');
      li.innerHTML=`<span>${c.nome} - R$ ${c.valor}</span><button onclick=\"clientes.remove(${c.id})\">üóëÔ∏è</button>`;
      listaClientes.appendChild(li);
    })
  },
  remove(id){
    this.dados=this.dados.filter(c=>c.id!==id);
    finance.dados=finance.dados.filter(f=>f.clienteId!==id);
    localStorage.setItem('clientes',JSON.stringify(this.dados));
    finance.save();this.render();
  }
};

finance.update();clientes.render();
</script>
</body>
</html>




