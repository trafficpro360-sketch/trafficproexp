<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma Financeira</title>

<!-- Fonte Inter -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
  /* ===== RESET ===== */
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #020617, #020617, #0f172a);
    color: #e5e7eb;
    min-height: 100vh;
    display: flex;
  }

  /* ===== SIDEBAR ===== */
  .sidebar {
    width: 260px;
    background: rgba(2,6,23,0.9);
    border-right: 1px solid #1e293b;
    padding: 24px;
  }

  .logo {
    font-size: 22px;
    font-weight: 700;
    color: #38bdf8;
    margin-bottom: 40px;
  }

  /* MENU LATERAL */
  .menu ul {
    list-style: none;
    margin-top: 40px;
  }

  .menu li {
    margin-bottom: 20px;
  }

  .menu a {
    text-decoration: none;
    color: #94a3b8;
    font-weight: 500;
    display: block;
    padding: 12px 16px;
    border-radius: 12px;
    transition: all 0.25s;
  }

  .menu a:hover {
    background: rgba(56, 189, 248, 0.15);
    color: #38bdf8;
  }

  .menu li.active a {
    background: rgba(56, 189, 248, 0.2);
    color: #38bdf8;
    font-weight: 600;
  }

  /* ===== CONTEÚDO PRINCIPAL ===== */
  .content {
    flex: 1;
    padding: 40px;
  }

  .header {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 30px;
  }

  /* ===== CARDS ===== */
  .cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }

  .card {
    background: #020617;
    border: 1px solid #1e293b;
    border-radius: 22px;
    padding: 24px;
  }

  .card span {
    font-size: 14px;
    color: #94a3b8;
  }

  .card h2 {
    margin-top: 10px;
    font-size: 26px;
    font-weight: 700;
  }

  .blue h2 { color: #38bdf8; }
  .red h2 { color: #ef4444; }
  .green h2 { color: #22c55e; }

  /* ===== CONTROLES ===== */
  .controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
  }

  .controls input {
    background: #020617;
    border: 1px solid #1e293b;
    color: #e5e7eb;
    padding: 14px;
    border-radius: 14px;
    font-size: 14px;
    font-family: 'Inter', sans-serif;
  }

  .controls button {
    background: linear-gradient(135deg, #2563eb, #38bdf8);
    border: none;
    color: #fff;
    padding: 14px;
    border-radius: 14px;
    cursor: pointer;
    font-weight: 600;
    transition: .25s;
  }

  /* ===== TOGGLE RECEITA / DESPESA ===== */
  .toggle {
    display: flex;
    background: #020617;
    border: 1px solid #1e293b;
    border-radius: 18px;
    overflow: hidden;
  }

  .toggle button {
    flex: 1;
    padding: 14px;
    border: none;
    background: transparent;
    color: #94a3b8;
    font-weight: 600;
    cursor: pointer;
    transition: all .25s;
  }

  .toggle button.active.receita {
    background: rgba(34,197,94,.15);
    color: #22c55e;
  }

  .toggle button.active.despesa {
    background: rgba(239,68,68,.15);
    color: #ef4444;
  }

  /* ===== GRÁFICO ===== */
  .chart {
    height: 300px;
    border-radius: 24px;
    border: 1px solid #1e293b;
    background: #020617;
    padding: 20px;
  }

  /* ===== ABAS DE CONTEÚDO ===== */
  .tab {
    display: none;
  }

  .tab.active {
    display: block;
  }
</style>
</head>

<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="logo">Finance<span style="color:#fff">Pro</span></div>

    <!-- MENU LATERAL -->
    <nav class="menu">
      <ul>
        <li class="active"><a href="#" onclick="showTab('dashboard')">Dashboard</a></li>
        <li><a href="#" onclick="showTab('financeiro')">Finanças</a></li>
        <li><a href="#" onclick="showTab('tarefas')">Tarefas</a></li>
      </ul>
    </nav>
  </aside>

  <!-- CONTEÚDO PRINCIPAL -->
  <main class="content">

    <!-- TAB DASHBOARD -->
    <div id="dashboard" class="tab active">
      <div class="header">Dashboard</div>
      <p>Bem-vindo ao seu dashboard FinancePro! Aqui você tem uma visão geral das suas finanças e tarefas.</p>
    </div>

    <!-- TAB FINANCEIRO -->
    <div id="financeiro" class="tab">
      <div class="header">Visão Geral Financeira</div>

      <!-- CARDS FINANCEIROS -->
      <section class="cards">
        <div class="card blue">
          <span>Receita Total</span>
          <h2 id="cardReceita">R$ 0</h2>
        </div>
        <div class="card red">
          <span>Despesas</span>
          <h2 id="cardDespesa">R$ 0</h2>
        </div>
        <div class="card green">
          <span>Saldo</span>
          <h2 id="cardSaldo">R$ 0</h2>
        </div>
      </section>

      <!-- CONTROLES DE ADIÇÃO -->
      <section class="controls">
        <input type="number" id="valor" placeholder="Valor (R$)">

        <!-- TOGGLE MODERNO -->
        <div class="toggle">
          <button class="active receita" onclick="setTipo('receita', this)">Receita</button>
          <button class="despesa" onclick="setTipo('despesa', this)">Despesa</button>
        </div>

        <input type="date" id="mes">
        <button onclick="adicionar()">Adicionar</button>
      </section>

      <!-- GRÁFICO -->
      <div class="chart">
        <canvas id="financeChart"></canvas>
      </div>
    </div>

    <!-- TAB TAREFAS -->
    <div id="tarefas" class="tab">
      <div class="header">Tarefas</div>
      <p>Aqui você poderá adicionar e gerenciar suas tarefas diárias.</p>
    </div>

  </main>

  <!-- CHART.JS -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
    // ===== VARIÁVEIS =====
    let tipoSelecionado = 'receita';
    let dados = JSON.parse(localStorage.getItem('financeiro')) || [];

    const cardReceita = document.getElementById('cardReceita');
    const cardDespesa = document.getElementById('cardDespesa');
    const cardSaldo = document.getElementById('cardSaldo');

    // ===== FUNÇÃO PARA ALTERAR TIPO =====
    function setTipo(tipo, el) {
      tipoSelecionado = tipo;
      document.querySelectorAll('.toggle button').forEach(b => b.classList.remove('active'));
      el.classList.add('active');
    }

    // ===== CONFIGURAÇÃO DO GRÁFICO =====
    const labels = ['Jan','Fev','Mar','Abr','Mai','Jun'];
    const chart = new Chart(document.getElementById('financeChart'), {
      type: 'line',
      data: {
        labels,
        datasets: [
          { label: 'Receita', data: [], borderColor: '#22c55e', tension: 0.35 },
          { label: 'Despesas', data: [], borderColor: '#ef4444', tension: 0.35 },
          { label: 'Saldo', data: [], borderColor: '#38bdf8', tension: 0.35 }
        ]
      },
      options: { responsive: true, maintainAspectRatio: false }
    });

    // ===== FUNÇÃO PARA ADICIONAR DADOS =====
    function adicionar() {
      const valor = Number(document.getElementById('valor').value);
      const mes = document.getElementById('mes').value;
      if (!valor || !mes) return;

      dados.push({ valor, tipo: tipoSelecionado, mes });
      localStorage.setItem('financeiro', JSON.stringify(dados));
      atualizar();
    }

    // ===== FUNÇÃO PARA ATUALIZAR CARDS E GRÁFICO =====
    function atualizar() {
      let receitas = Array(6).fill(0);
      let despesas = Array(6).fill(0);

      dados.forEach(d => {
        const i = new Date(d.mes).getMonth();
        if (i < 6) {
          if (d.tipo === 'receita') receitas[i] += d.valor;
          else despesas[i] += d.valor;
        }
      });

      const saldo = receitas.map((r, i) => r - despesas[i]);

      chart.data.datasets[0].data = receitas;
      chart.data.datasets[1].data = despesas;
      chart.data.datasets[2].data = saldo;
      chart.update();

      const totalReceita = receitas.reduce((a,b) => a + b, 0);
      const totalDespesa = despesas.reduce((a,b) => a + b, 0);
      const totalSaldo = totalReceita - totalDespesa;

      cardReceita.innerText = `R$ ${totalReceita.toLocaleString('pt-BR')}`;
      cardDespesa.innerText = `R$ ${totalDespesa.toLocaleString('pt-BR')}`;
      cardSaldo.innerText = `R$ ${totalSaldo.toLocaleString('pt-BR')}`;
      cardSaldo.style.color = totalSaldo > 0 ? '#22c55e' : totalSaldo < 0 ? '#ef4444' : '#e5e7eb';
    }

    // ===== FUNÇÃO PARA NAVEGAR ENTRE ABAS =====
    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');

      // Atualiza o menu ativo
      document.querySelectorAll('.menu li').forEach(li => li.classList.remove('active'));
      document.querySelector(`.menu a[onclick="showTab('${tabId}')"]`).parentElement.classList.add('active');
    }

    // ===== INICIALIZAÇÃO =====
    atualizar();
  </script>

</body>
</html>
